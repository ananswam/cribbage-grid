(this["webpackJsonpcribbage-grid"]=this["webpackJsonpcribbage-grid"]||[]).push([[0],{12:function(t,e,r){"use strict";r.r(e);var n=r(11),a=r(8),c=r(2),s=r(3),i=r(5),o=r(4),u=r(0),l=r(1),h=r.n(l),d=r(10),p=r.n(d),f=(r(18),function(t){Object(i.a)(r,t);var e=Object(o.a)(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){var t=this,e=this.props.isEmpty?"cards/blank_card.svg":"cards/astronaut.svg";return Object(u.jsx)("img",{src:e,onClick:function(){return t.props.clickHandler()},width:"50px"})}}]),r}(h.a.Component));var j=function(t){Object(i.a)(r,t);var e=Object(o.a)(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){var t,e,r=this;return this.props.showBack?t="cards/astronaut.svg":this.props.rank&&this.props.suit?(e=this.props.rank,t="cards/"+this.props.suit+"_"+e+".svg"):t="cards/blank_card.svg",this.props.clickHandler?Object(u.jsx)("img",{src:t,width:"50px",onClick:function(){return r.props.clickHandler()}}):Object(u.jsx)("img",{src:t,width:"50px"})}}]),r}(h.a.Component);function b(){for(var t=["2","3","4","5","6","7","8","9","10","jack","queen","king","ace"],e=Array(),r=0,n=["clubs","diamonds","hearts","spades"];r<n.length;r++){var c,s=n[r],i=Object(a.a)(t);try{for(i.s();!(c=i.n()).done;){var o=c.value;e.push({rank:o,suit:s})}}catch(u){i.e(u)}finally{i.f()}}return e}function v(t){for(var e,r,n=t.length;0!==n;)r=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[r],t[r]=e;return t}var k=function(t){Object(i.a)(r,t);var e=Object(o.a)(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(s.a)(r,[{key:"renderCard",value:function(t){var e=this;return Object(u.jsx)(j,{rank:this.props.cardLayout[t].rank,suit:this.props.cardLayout[t].suit,clickHandler:function(){return e.props.clickHandler(t)}})}},{key:"getLineScores",value:function(t,e,r){for(var n=Array(),a=0;a<5;a++){for(var c=t[a],s=e[a],i=Array(),o=c;o<s;o+=r)this.props.cardLayout[o].rank&&i.push(this.props.cardLayout[o]);var u=0;i.length>1&&(u=x(i)),n.push(u)}return n}},{key:"getRowScores",value:function(){return this.getLineScores([0,5,10,15,20],[5,10,15,20,25],1)}},{key:"getColumnScores",value:function(){return this.getLineScores([0,1,2,3,4],[25,25,25,25,25],5)}},{key:"render",value:function(){var t=this,e=this.getRowScores(),r=this.getColumnScores(),n=r.reduce((function(t,e){return t+e}),0),c=e.reduce((function(t,e){return t+e}),0),s=Array(),i=Array();this.props.nextCard?s.push(Object(u.jsx)("td",{children:Object(u.jsx)(j,{rank:this.props.nextCard.rank,suit:this.props.nextCard.suit})})):s.push(Object(u.jsx)("td",{children:Object(u.jsx)(f,{isEmpty:!1,clickHandler:function(){t.props.resetCallback(c,n)}})}));var o,l=Object(a.a)(r);try{for(l.s();!(o=l.n()).done;){var d=o.value;s.push(Object(u.jsx)("td",{children:Object(u.jsx)("span",{align:"center",children:d})}))}}catch(g){l.e(g)}finally{l.f()}s.push(Object(u.jsx)("td",{children:Object(u.jsx)("span",{align:"center",style:{"font-weight":"bold","font-size":24},children:n})})),i.push(h.a.createElement.apply(h.a,["tr",null].concat(s)));for(var p=0;p<5;p++){var b=Array();b.push(Object(u.jsx)("td",{children:Object(u.jsx)("span",{align:"center",children:e[p]})}));for(var v=0;v<5;v++){var k=v+5*p;b.push(Object(u.jsx)("td",{children:this.renderCard(k)}))}i.push(h.a.createElement.apply(h.a,["tr",null].concat(b)))}return i.push(Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:Object(u.jsx)("span",{align:"center",style:{"font-weight":"bold","font-size":24},children:c})})})),h.a.createElement.apply(h.a,["table",null].concat(i))}}]),r}(h.a.Component),g=function(t){Object(i.a)(r,t);var e=Object(o.a)(r);function r(t){var n;Object(c.a)(this,r),n=e.call(this,t);var a=b();v(a),console.log("deck length:",a.length);var s=Array(25).fill({rank:null,suit:null});return s[12]=a[0],n.state={deck:a.slice(1,a.length),cardLayout:s},n}return Object(s.a)(r,[{key:"resetGame",value:function(){var t=b();v(t),console.log("deck length:",t.length);var e=Array(25).fill({rank:null,suit:null});e[12]=t[0],this.setState({deck:t.slice(1,t.length),cardLayout:e})}},{key:"handleGridClick",value:function(t){if(!this.state.cardLayout[t].rank||!this.state.cardLayout[t].suit){var e=this.state.cardLayout.slice();e[t]=this.state.deck[0];var r=this.state.deck.slice(1,this.state.deck.length);this.setState({deck:r,cardLayout:e})}}},{key:"render",value:function(){var t,e=this;return console.log(this.state.deck.length),t=this.state.deck.length>27?this.state.deck[0]:null,Object(u.jsx)("div",{children:Object(u.jsx)(k,{nextCard:t,cardLayout:this.state.cardLayout,clickHandler:function(t){return e.handleGridClick(t)},resetCallback:function(t,r){e.resetGame(),e.props.resetCallback(t,r)}})})}}]),r}(h.a.Component),y=function(t){Object(i.a)(r,t);var e=Object(o.a)(r);function r(t){var n;return Object(c.a)(this,r),(n=e.call(this,t)).state={rowScoreboard:0,colScoreboard:0},n}return Object(s.a)(r,[{key:"updateScore",value:function(t,e){var r;t>e?(t-=e,e=0,r="Row Wins: "+t+" points"):e>t?(e-=t,t=0,r="Col Wins: "+e+" points"):(r="Tie!",e=0,t=0),alert(r),this.setState({rowScoreboard:this.state.rowScoreboard+t,colScoreboard:this.state.colScoreboard+e})}},{key:"render",value:function(){var t=this,e="Row: "+this.state.rowScoreboard+"    Column: "+this.state.colScoreboard;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:e}),Object(u.jsx)(g,{resetCallback:function(e,r){return t.updateScore(e,r)}})]})}}]),r}(h.a.Component);function O(t){return{ace:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,jack:11,queen:12,king:13}[t]}function x(t){var e=0;return e+=function(t){var e,r=t.map((function(t){return Math.min(10,O(t.rank))})).reduce((function(t,e){return t.concat(t.map((function(t){return[e].concat(Object(n.a)(t))})))}),[[]]),c=0,s=Object(a.a)(r);try{for(s.s();!(e=s.n()).done;){var i=e.value;i.length>0&&15==i.reduce((function(t,e){return t+e}),0)&&(c+=2)}}catch(o){s.e(o)}finally{s.f()}return c}(t),e+=function(t){return t.length<5?0:t[0].suit==t[1].suit&&t[0].suit==t[2].suit&&t[0].suit==t[3].suit&&t[0].suit==t[4].suit?5:0}(t),e+=function(t){if(t.length<2)return 0;for(var e=0,r=0;r<t.length;r++)for(var n=r+1;n<t.length;n++)t[r].rank==t[n].rank&&(e+=2);return e}(t),e+=function(t){var e=t.map((function(t){return O(t.rank)}));e.sort((function(t,e){return t-e})),e.push(1e3);for(var r=0,n=1,a=1,c=1,s=1;s<e.length;s++){var i=e[s]-e[s-1];0==i?n+=1:1==i?(c*=n,n=1,a+=1):(a>2&&(r+=a*c*n),a=1,n=1,c=1)}return r}(t)}p.a.render(Object(u.jsx)(y,{}),document.getElementById("root"))},18:function(t,e,r){}},[[12,1,2]]]);
//# sourceMappingURL=main.ad1523d4.chunk.js.map